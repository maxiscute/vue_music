(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singer-detail"],{"03f5":function(t,e,n){"use strict";n("97f8")},"10ce":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),c=Object(a["P"])("data-v-1f2ecd00");Object(a["y"])("data-v-1f2ecd00");var i={class:"singer-detail"};Object(a["w"])();var l=c((function(t,e,n,c,l,s){var r=Object(a["D"])("music-list");return Object(a["v"])(),Object(a["h"])("div",i,[Object(a["j"])(r,{songs:t.songs,title:t.title,pic:t.pic,loading:t.loading},null,8,["songs","title","pic","loading"])])})),s=n("3524"),r=n("aaef"),o=n("ae58"),u=Object(s["a"])("singer-detail",r["f"],o["a"]);n("7267");u.render=l,u.__scopeId="data-v-1f2ecd00";e["default"]=u},3524:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var a=n("1da1"),c=(n("96cf"),n("b0c0"),n("7a23")),i=Object(c["P"])("data-v-ea9eb8c6");Object(c["y"])("data-v-ea9eb8c6");var l={class:"music-list"},s={class:"back"},r={class:"title"},o={class:"top-wrapper",ref:"testDiv"},u=Object(c["j"])("i",{class:"icon-play"},null,-1),f=Object(c["j"])("span",{class:"text"},"播放",-1),d=Object(c["j"])("i",{class:"icon-shuffle-play"},null,-1),b=Object(c["j"])("span",{class:"text"},"随机",-1),g={class:"song-list-wrapper"};Object(c["w"])();var p=i((function(t,e,n,a,p,j){var h=Object(c["D"])("song-list"),m=Object(c["D"])("scroller"),O=Object(c["E"])("loading"),y=Object(c["E"])("no-result");return Object(c["v"])(),Object(c["h"])("div",l,[Object(c["j"])("div",s,[Object(c["j"])("i",{class:"icon-back",onClick:e[1]||(e[1]=function(){return j.goBack&&j.goBack.apply(j,arguments)})})]),Object(c["j"])("h1",r,Object(c["H"])(n.title),1),Object(c["j"])("div",o,[Object(c["j"])("div",{class:"bg-img",style:j.bgImageStyle,ref:"bgImage"},[Object(c["j"])("div",{class:"filter",style:j.filterStyle},null,4)],4),Object(c["N"])(Object(c["j"])("div",{class:"play-btn-wrapper",style:j.buttonStyle},[Object(c["j"])("div",{class:"btn play-btn",onClick:e[2]||(e[2]=function(){return j.onPlayAllClick&&j.onPlayAllClick.apply(j,arguments)})},[u,f]),Object(c["j"])("div",{class:"btn shuffle-play-btn",onClick:e[3]||(e[3]=function(){return j.onShufflePlayClick&&j.onShufflePlayClick.apply(j,arguments)})},[d,b])],4),[[c["K"],!j.noResult]])],512),Object(c["N"])(Object(c["j"])(m,{class:"list",style:j.scrollerStyle,"probe-type":3,onScroll:j.onScroll},{default:i((function(){return[Object(c["j"])("div",g,[Object(c["j"])(h,{songs:n.songs,rank:n.rank,onSongItemClicked:j.onPlayItemClick},null,8,["songs","rank","onSongItemClicked"])])]})),_:1},8,["style","onScroll"]),[[O,n.loading],[y,j.noResult,n.noResultText]])])})),j=n("5530"),h=(n("99af"),n("1d73")),m=n("a25b"),O=n("5502"),y=40,v={name:"music-list",components:{Scroller:h["a"],SongList:m["a"]},data:function(){return{imageHeight:0,scrollY:0,maxScrollY:0}},mounted:function(){this.imageHeight=this.$refs.testDiv.clientHeight,this.maxScrollY=this.imageHeight-y},props:{songs:{type:Array,default:function(){return[]}},title:String,pic:String,loading:Boolean,noResultText:{type:String,default:"抱歉，没有可播放的歌曲"},rank:Boolean},methods:Object(j["a"])({onPlayItemClick:function(t){t.song;var e=t.index;this.selectPlay({list:this.songs,index:e})},goBack:function(){this.$router.back()},onScroll:function(t){this.scrollY=-t.y},onPlayAllClick:function(){this.selectPlay({list:this.songs,index:0})},onShufflePlayClick:function(){this.shufflePlay(this.songs)}},Object(O["c"])(["selectPlay","shufflePlay"])),computed:Object(j["a"])({noResult:function(){return!this.loading&&!this.songs.length},buttonStyle:function(){var t=this.scrollY,e=0;return t<0&&(e=-t),{transform:"translateY(".concat(e,"px)")}},bgImageStyle:function(){var t=this.scrollY,e=0,n="70%",a=0,c=0,i=1;return t>this.maxScrollY&&(e=10,n=0,a="".concat(y,"px"),c=1),t<0&&(i=1+Math.abs(t/this.imageHeight)),{paddingTop:n,height:a,zIndex:e,transform:"scale(".concat(i,")translateZ(").concat(c,"px)"),backgroundImage:"url(".concat(this.pic,")")}},scrollerStyle:function(){var t=this.playlist.length?"60px":"0";return{top:"".concat(this.imageHeight,"px"),bottom:t}},filterStyle:function(){var t=0,e=this.scrollY,n=this.imageHeight;return e>=0&&(t=15*Math.min(this.maxScrollY/n,e/n)),{backdropFilter:"blur(".concat(t,"px)")}}},Object(O["d"])(["playlist"]))};n("03f5");v.render=p,v.__scopeId="data-v-ea9eb8c6";var k=v,S=n("335a"),x=n("4240");function P(t,e,n){return{name:t,components:{MusicList:k},data:function(){return{songs:[],loading:!0}},props:{data:Object},computed:{computedData:function(){var t=null,n=this.data;if(n)t=n;else{var a=S["a"].session.get(e);a&&(a.id+""||a.name)===this.$route.params.id&&(t=a)}return t},pic:function(){var t=this.computedData;return t&&t.pic},title:function(){var t=this.computedData;return t&&(t.name||t.title)}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var a,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.computedData,a){e.next=5;break}return c=t.$route.matched[0].path,t.$router.push({path:c}),e.abrupt("return");case 5:return e.next=7,n(a);case 7:return i=e.sent,e.next=10,Object(x["b"])(i.songs);case 10:t.songs=e.sent,t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}}}},7267:function(t,e,n){"use strict";n("da17")},"97f8":function(t,e,n){},ae58:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i}));var a=n("58ff"),c=function(){return Object(a["a"])("/api/getSingerList")},i=function(t){return console.log("getSingerDetail",t.mid),Object(a["a"])("/api/getSingerDetail",{mid:t.mid})}},da17:function(t,e,n){}}]);